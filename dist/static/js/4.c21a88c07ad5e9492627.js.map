{"version":3,"sources":["webpack:///src/views/pages/account/company/index.vue","webpack:///./src/views/pages/account/company/index.vue?cbd8","webpack:///./src/views/pages/account/company/index.vue"],"names":["company","data","config","cityData","city","logoFile","logoCacheUrl","requestParams","companykey","eaddr","econtact","elogo","email","ename","ephone","eweb","sendcity","sendcontact","sendcounty","sendphone","sendprovince","sendstreet","configObject","cityList","countyList","preCompanyInfo","computed","logoUrl","this","DOWNLOAD_URL","isEdit","created","getCompanyInfo","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","api","sent","flags","$_","cloneDeep","assign_default","init","$toast","message","stop","upload","_this2","_callee2","_context2","abrupt","picpath","editCompanyInfo","_this3","_callee3","params","_context3","saveCompanyInfo","t0","createCompanyInfo","sendProvince","sendCounty","changeProvinceFn","changeCityFn","province","find","name","children","sendCity","length","getObjectURL","file","url","window","createObjectURL","URL","webkitURL","getCacheFile","event","files","target","account_company","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","width","height","src","_e","_v","staticStyle","visibility","type","accept","id","on","change","_m","size","round","click","maxlength","prefix-icon","placeholder","model","value","callback","$$v","$set","expression","_l","key","label","county","_s","staticRenderFns","for","font-size","color","cursor","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.c21a88c07ad5e9492627.js","sourcesContent":["<template>\r\n  <div class=\"company-layout\">\r\n    <div class=\"company-wrap\">\r\n      <div class=\"company-content\">\r\n        <div class=\"company-upload\">\r\n          <div class=\"file-box\"><img width=\"100%\" height=\"100%\" :src=\"logoUrl\" v-if=\"requestParams.elogo || logoCacheUrl\"></div>\r\n          <input @change=\"getCacheFile\" type=\"file\" accept=\"image/png,image/jpeg,image/gif\" name=\"file\" id=\"file_company\" style=\"visibility: hidden;width: 0;height: 0;\"/>\r\n          <label for=\"file_company\"><span style=\"font-size: 14px;color: #409EFF;cursor: pointer;\">浏览..</span></label>\r\n          <el-button @click=\"upload\" class=\"upload-btn\" type=\"primary\" size=\"small\" round>上传企业logo</el-button>\r\n          <!--<p v-if=\"logoFile\" style=\"font-size: 12px; color: orange;\">请点击“上传企业logo”按钮以完成上传</p>-->\r\n        </div>\r\n        <div class=\"company-form\">\r\n          <el-input v-model=\"requestParams.ename\" size=\"small\" maxlength=\"50\" prefix-icon=\"iconfont icon-qiye1\" placeholder=\"企业名称\"/>\r\n          <el-input v-model=\"requestParams.eaddr\" size=\"small\" maxlength=\"100\" prefix-icon=\"iconfont icon-dizhi\" placeholder=\"企业地址\"/>\r\n          <el-input v-model=\"requestParams.econtact\" size=\"small\" maxlength=\"100\" prefix-icon=\"iconfont icon-yonghu\" placeholder=\"企业联系人姓名\"/>\r\n          <el-input v-model=\"requestParams.ephone\" size=\"small\" maxlength=\"20\" prefix-icon=\"iconfont icon-shouji\" placeholder=\"企业联系人电话\"/>\r\n          <el-input v-model=\"requestParams.email\" size=\"small\" maxlength=\"100\" prefix-icon=\"iconfont icon-youxiang\" placeholder=\"企业邮箱\"/>\r\n          <el-input v-model=\"requestParams.eweb\" size=\"small\" maxlength=\"100\" prefix-icon=\"iconfont icon-wangzhan\" placeholder=\"企业官网\"/>\r\n          <div class=\"company-address\">\r\n            <div class=\"company-address-select\">\r\n              <i class=\"iconfont icon-dizhi1\"></i>\r\n              发货省<el-select @change=\"changeProvinceFn\" size=\"samll\" v-model=\"requestParams.sendprovince\"><el-option v-for=\"province in cityData\" :label=\"province.name\" :value=\"province.name\" :key=\"province.name\"/></el-select>\r\n              发货市<el-select @change=\"changeCityFn\" size=\"samll\" v-model=\"requestParams.sendcity\"><el-option v-for=\"city in configObject.cityList\" :label=\"city.name\" :value=\"city.name\" :key=\"city.name\"/></el-select>\r\n              发货区县<el-select  size=\"samll\" v-model=\"requestParams.sendcounty\"><el-option v-for=\"county in configObject.countyList\" :label=\"county.name\" :value=\"county.name\" :key=\"county.name\"/></el-select>\r\n            </div>\r\n            <el-input maxlength=\"100\" v-model=\"requestParams.sendstreet\" size=\"small\" placeholder=\"发货详细街道地址\"/>\r\n          </div>\r\n          <el-input maxlength=\"50\" v-model=\"requestParams.sendcontact\" size=\"small\" prefix-icon=\"iconfont icon-yonghu\" placeholder=\"发货联系人姓名\"/>\r\n          <el-input maxlength=\"50\" v-model=\"requestParams.sendphone\" size=\"small\" prefix-icon=\"iconfont icon-shouji\" placeholder=\"发货联系人电话\"/>\r\n        </div>\r\n      </div>\r\n      <el-button @click=\"editCompanyInfo\" class=\"confirm\" type=\"primary\" size=\"small\" round>{{ isEdit ? '保存修改' : '创建' }}</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import cityData from '../../../../conf/city'\r\n  import config from '../../../../conf/config'\r\n  import webApi from '../../../../lib/api'\r\n\texport default {\r\n    data() {\r\n      return {\r\n        config,\r\n        cityData,\r\n        logoFile: null,\r\n        logoCacheUrl: null,\r\n        requestParams: {\r\n          companykey: null,\r\n          eaddr: null,\r\n          econtact: null,\r\n          elogo: null,\r\n          email: null,\r\n          ename: null,\r\n          ephone: null,\r\n          eweb: null,\r\n          sendcity: null,\r\n          sendcontact: null,\r\n          sendcounty: null,\r\n          sendphone: null,\r\n          sendprovince: null,\r\n          sendstreet: null\r\n        },\r\n        configObject: {\r\n          cityList: [],\r\n          countyList: []\r\n        },\r\n        preCompanyInfo: null\r\n      }\r\n    },\r\n    computed: {\r\n      logoUrl() {\r\n        return this.logoCacheUrl ? this.logoCacheUrl : `${this.config.DOWNLOAD_URL}${this.requestParams.elogo}`;\r\n      },\r\n      isEdit() {\r\n        return this.preCompanyInfo && this.preCompanyInfo.ename;\r\n      }\r\n    },\r\n    created() {\r\n      this.getCompanyInfo();\r\n    },\r\n    methods: {\r\n      /**\r\n       * 获取公司信息\r\n       * @returns {Promise<void>}\r\n       */\r\n      async getCompanyInfo() {\r\n        let res = await webApi.getCompanyInfo();\r\n        if (res.flags === 'success') {\r\n          if (res.data) {\r\n            this.preCompanyInfo = this.$_.cloneDeep(res.data);\r\n            this.requestParams = Object.assign({}, this.requestParams, res.data);\r\n          }\r\n          this.init();\r\n        } else {\r\n          this.$toast(res.message, 'error');\r\n        }\r\n      },\r\n      /**\r\n       * 上传文件\r\n       * @returns {Promise<void>}\r\n       */\r\n      async upload() {\r\n        if (!this.logoFile) {\r\n          return this.$toast('请浏览图片后上传')\r\n        }\r\n        let res = await webApi.upload(this.logoFile, {companykey: this.requestParams.companykey}, `/mccl`);\r\n        if (res.flags === 'success') {\r\n          if (res.data) {\r\n            this.requestParams.elogo = res.data.picpath;\r\n            this.$toast('上传图片成功', 'success');\r\n          }\r\n          this.init();\r\n        } else {\r\n          this.$toast(res.message, 'error');\r\n        }\r\n      },\r\n      /**\r\n       * 创建或编辑公司信息\r\n       * @returns {Promise<void>}\r\n       */\r\n      async editCompanyInfo() {\r\n        let params = this.$_.cloneDeep(this.requestParams);\r\n        delete params.companykey;\r\n        delete params.elogo;\r\n        let res = this.isEdit ? await webApi.saveCompanyInfo(params) : await webApi.createCompanyInfo(params);\r\n        if (res.flags === 'success') {\r\n          this.$toast(!this.isEdit ? '创建成功' : '保存成功', 'success');\r\n          this.getCompanyInfo();\r\n        } else {\r\n          this.$toast(res.message, 'error');\r\n        }\r\n      },\r\n      /**\r\n       * 公司页面初始化函数\r\n       */\r\n      init() {\r\n        let sendProvince = this.requestParams.sendprovince;\r\n        let sendCounty = this.requestParams.sendcounty;\r\n        if (sendProvince) {\r\n          this.changeProvinceFn();\r\n        }\r\n        if (sendCounty) {\r\n          this.changeCityFn();\r\n        }\r\n      },\r\n      /**\r\n       * 切换省份触发方法\r\n       * @param province\r\n       */\r\n      changeProvinceFn(province) {\r\n        if (province) {\r\n          this.requestParams.sendcity = null;\r\n          this.requestParams.sendcounty = null;\r\n        }\r\n        let sendProvince = this.requestParams.sendprovince;\r\n        this.configObject.cityList =  !sendProvince ? [] : this.cityData.find(province => province.name === sendProvince).children;\r\n      },\r\n      /**\r\n       * 切换城市触发方法\r\n       * @param city\r\n       */\r\n      changeCityFn(city) {\r\n        if (city) {\r\n          this.requestParams.sendcounty = null;\r\n        }\r\n        let sendCity = this.requestParams.sendcity;\r\n        let cityList = this.configObject.cityList;\r\n        this.configObject.countyList =  !sendCity || !cityList.length ? [] : cityList.find(city => city.name === sendCity).children;\r\n      },\r\n      /**\r\n       * 兼容性获取图片本地缓存地址\r\n       * @param file\r\n       * @returns {*}\r\n       */\r\n      getObjectURL(file) {\r\n        let url = null ;\r\n        // 下面函数执行的效果是一样的，只是需要针对不同的浏览器执行不同的 js 函数而已\r\n        if (window.createObjectURL) { // basic\r\n          url = window.createObjectURL(file)\r\n        } else if (window.URL) { // mozilla(firefox)\r\n          url = window.URL.createObjectURL(file)\r\n        } else if (window.webkitURL) { // webkit or chrome\r\n          url = window.webkitURL.createObjectURL(file)\r\n        }\r\n        return url ;\r\n      },\r\n      /**\r\n       * 获取上传文件信息\r\n       * @param event\r\n       */\r\n      getCacheFile(event) {\r\n        let files = event.target.files[0];\r\n        this.logoCacheUrl = this.getObjectURL(files);\r\n        this.logoFile = files;\r\n        if(this.logoFile){\r\n          this.$toast('请点击“上传企业logo”按钮以完成上传', 'info');\r\n        }\r\n      }\r\n    }\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .company-layout{\r\n    height: 100%;\r\n    padding: 30px 50px;\r\n    .company-wrap{\r\n      width: 650px;\r\n      line-height: 24px;\r\n      @include list-layout;\r\n      .company-content{\r\n        overflow: auto;\r\n        color: #909090;\r\n        .company-upload{\r\n          float: left;\r\n          width: 105px;\r\n          text-align: center;\r\n          .file-box{\r\n            width: 100%;\r\n            height: 105px;\r\n            border: 1px solid rgb(22, 28, 42);\r\n            border-radius: 5px;\r\n            background-color: rgb(40, 49, 66);\r\n          }\r\n          .upload-btn{\r\n            margin: 5px 0 0 0;\r\n          }\r\n        }\r\n        .company-form{\r\n          position: relative;\r\n          margin-left: 105px;\r\n          padding: 0 25px;\r\n          text-align: left;\r\n          .el-input{\r\n            display: block;\r\n            margin-bottom: 10px;\r\n            width: 230px;\r\n          }\r\n          .company-address{\r\n            font-size: 12px;\r\n            margin-bottom: 10px;\r\n            .el-input{\r\n              display: inline-block;\r\n              margin: 0 0 0 60px;\r\n            }\r\n            .company-address-select{\r\n              margin-bottom: 10px;\r\n              .el-select{\r\n                margin: 0 5px;\r\n                width: 90px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .confirm{\r\n        margin-top: 20px;\r\n        padding: 5px 30px;\r\n      }\r\n    }\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/pages/account/company/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"company-layout\"},[_c('div',{staticClass:\"company-wrap\"},[_c('div',{staticClass:\"company-content\"},[_c('div',{staticClass:\"company-upload\"},[_c('div',{staticClass:\"file-box\"},[(_vm.requestParams.elogo || _vm.logoCacheUrl)?_c('img',{attrs:{\"width\":\"100%\",\"height\":\"100%\",\"src\":_vm.logoUrl}}):_vm._e()]),_vm._v(\" \"),_c('input',{staticStyle:{\"visibility\":\"hidden\",\"width\":\"0\",\"height\":\"0\"},attrs:{\"type\":\"file\",\"accept\":\"image/png,image/jpeg,image/gif\",\"name\":\"file\",\"id\":\"file_company\"},on:{\"change\":_vm.getCacheFile}}),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('el-button',{staticClass:\"upload-btn\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.upload}},[_vm._v(\"上传企业logo\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"company-form\"},[_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":\"50\",\"prefix-icon\":\"iconfont icon-qiye1\",\"placeholder\":\"企业名称\"},model:{value:(_vm.requestParams.ename),callback:function ($$v) {_vm.$set(_vm.requestParams, \"ename\", $$v)},expression:\"requestParams.ename\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":\"100\",\"prefix-icon\":\"iconfont icon-dizhi\",\"placeholder\":\"企业地址\"},model:{value:(_vm.requestParams.eaddr),callback:function ($$v) {_vm.$set(_vm.requestParams, \"eaddr\", $$v)},expression:\"requestParams.eaddr\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":\"100\",\"prefix-icon\":\"iconfont icon-yonghu\",\"placeholder\":\"企业联系人姓名\"},model:{value:(_vm.requestParams.econtact),callback:function ($$v) {_vm.$set(_vm.requestParams, \"econtact\", $$v)},expression:\"requestParams.econtact\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":\"20\",\"prefix-icon\":\"iconfont icon-shouji\",\"placeholder\":\"企业联系人电话\"},model:{value:(_vm.requestParams.ephone),callback:function ($$v) {_vm.$set(_vm.requestParams, \"ephone\", $$v)},expression:\"requestParams.ephone\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":\"100\",\"prefix-icon\":\"iconfont icon-youxiang\",\"placeholder\":\"企业邮箱\"},model:{value:(_vm.requestParams.email),callback:function ($$v) {_vm.$set(_vm.requestParams, \"email\", $$v)},expression:\"requestParams.email\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"size\":\"small\",\"maxlength\":\"100\",\"prefix-icon\":\"iconfont icon-wangzhan\",\"placeholder\":\"企业官网\"},model:{value:(_vm.requestParams.eweb),callback:function ($$v) {_vm.$set(_vm.requestParams, \"eweb\", $$v)},expression:\"requestParams.eweb\"}}),_vm._v(\" \"),_c('div',{staticClass:\"company-address\"},[_c('div',{staticClass:\"company-address-select\"},[_c('i',{staticClass:\"iconfont icon-dizhi1\"}),_vm._v(\"\\n            发货省\"),_c('el-select',{attrs:{\"size\":\"samll\"},on:{\"change\":_vm.changeProvinceFn},model:{value:(_vm.requestParams.sendprovince),callback:function ($$v) {_vm.$set(_vm.requestParams, \"sendprovince\", $$v)},expression:\"requestParams.sendprovince\"}},_vm._l((_vm.cityData),function(province){return _c('el-option',{key:province.name,attrs:{\"label\":province.name,\"value\":province.name}})}),1),_vm._v(\"\\n            发货市\"),_c('el-select',{attrs:{\"size\":\"samll\"},on:{\"change\":_vm.changeCityFn},model:{value:(_vm.requestParams.sendcity),callback:function ($$v) {_vm.$set(_vm.requestParams, \"sendcity\", $$v)},expression:\"requestParams.sendcity\"}},_vm._l((_vm.configObject.cityList),function(city){return _c('el-option',{key:city.name,attrs:{\"label\":city.name,\"value\":city.name}})}),1),_vm._v(\"\\n            发货区县\"),_c('el-select',{attrs:{\"size\":\"samll\"},model:{value:(_vm.requestParams.sendcounty),callback:function ($$v) {_vm.$set(_vm.requestParams, \"sendcounty\", $$v)},expression:\"requestParams.sendcounty\"}},_vm._l((_vm.configObject.countyList),function(county){return _c('el-option',{key:county.name,attrs:{\"label\":county.name,\"value\":county.name}})}),1)],1),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"100\",\"size\":\"small\",\"placeholder\":\"发货详细街道地址\"},model:{value:(_vm.requestParams.sendstreet),callback:function ($$v) {_vm.$set(_vm.requestParams, \"sendstreet\", $$v)},expression:\"requestParams.sendstreet\"}})],1),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"50\",\"size\":\"small\",\"prefix-icon\":\"iconfont icon-yonghu\",\"placeholder\":\"发货联系人姓名\"},model:{value:(_vm.requestParams.sendcontact),callback:function ($$v) {_vm.$set(_vm.requestParams, \"sendcontact\", $$v)},expression:\"requestParams.sendcontact\"}}),_vm._v(\" \"),_c('el-input',{attrs:{\"maxlength\":\"50\",\"size\":\"small\",\"prefix-icon\":\"iconfont icon-shouji\",\"placeholder\":\"发货联系人电话\"},model:{value:(_vm.requestParams.sendphone),callback:function ($$v) {_vm.$set(_vm.requestParams, \"sendphone\", $$v)},expression:\"requestParams.sendphone\"}})],1)]),_vm._v(\" \"),_c('el-button',{staticClass:\"confirm\",attrs:{\"type\":\"primary\",\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.editCompanyInfo}},[_vm._v(_vm._s(_vm.isEdit ? '保存修改' : '创建'))])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"file_company\"}},[_c('span',{staticStyle:{\"font-size\":\"14px\",\"color\":\"#409EFF\",\"cursor\":\"pointer\"}},[_vm._v(\"浏览..\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fe3d2f62\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/pages/account/company/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fe3d2f62\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"E:\\\\\\\\project\\\\\\\\qr_code_amdin\\\\\\\\src\\\\\\\\static\\\\\\\\scss\\\\\\\\index.scss\\\"}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fe3d2f62\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fe3d2f62\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pages/account/company/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}