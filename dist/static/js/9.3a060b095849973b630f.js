webpackJsonp([9],{BsyO:function(e,t){},Ot01:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),l=a("exGp"),i=a.n(l),o=a("ZEg/"),r=a("1nEv"),c={data:function(){var e=this;this.$createElement;return{configObject:{SOURCE_LIST:r.e,SEX_LIST:r.d,expressCompanyList:[],couponList:[]},searchParams:{from:"ALL",couponkey:"ALL",pagenum:0},tableColumns:[{title:"兑换来源",align:"center",key:"fromcouponname"},{title:"兑换目标",align:"center",key:"tocouponname"},{title:"更新时间",align:"center",key:"lastupdatime"},{title:"操作",align:"center",render:function(t,a){return t("el-button",{on:{click:e.setCurrentExchangeDetail.bind(e,a.row)},attrs:{size:"medium",type:"text"}},["查看"])}}],tableData:[],isLoading:!1,totalPages:0,dialogVisible:!1,exchangeDetail:null}},created:function(){this.getCouponList(),this.getExpressCompanyList(),this.getExchangeOrderList()},methods:{getCouponList:function(){var e=this;return i()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getCouponList({});case 2:"success"===(a=t.sent).flags?(e.configObject.couponList=[],a.data&&a.data.length&&(e.configObject.couponList=a.data.reverse().map(function(e){return{label:e.name,value:e.couponkey}}),e.configObject.couponList.unshift({label:"全部礼券",value:"ALL"}))):e.$toast(a.message,"error");case 4:case"end":return t.stop()}},t,e)}))()},getExpressCompanyList:function(){var e=this;return i()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.getExpressCompanyList();case 2:"success"===(a=t.sent).flags?(e.configObject.expressCompanyList=[],a.data&&a.data.length&&(e.configObject.expressCompanyList=a.data)):e.$toast(a.message,"error");case 4:case"end":return t.stop()}},t,e)}))()},getExchangeOrderList:function(e){var t=this;return i()(n.a.mark(function a(){var s,l;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.isLoading=!0,(s=t.$_.cloneDeep(t.searchParams)).pagenum="number"==typeof e?e:0,a.next=5,o.a.getExchangeOrderList(s);case 5:"success"===(l=a.sent).flags?(t.tableData=[],t.totalPages=0,l.data&&(t.totalPages=l.data.totalpages,t.tableData=l.data.pagedorders)):t.$toast(l.message,"error"),t.isLoading=!1;case 8:case"end":return a.stop()}},a,t)}))()},downloadExchangeOrder:function(){var e=this;return i()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.downloadExchangeOrder();case 2:"success"===(a=t.sent).flags?window.open(a.url):e.$toast(a.message,"error");case 4:case"end":return t.stop()}},t,e)}))()},openDialog:function(){this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.exchangeDetail&&this.$restObjectAttribute(this.exchangeDetail)},setCurrentExchangeDetail:function(e){e&&(this.exchangeDetail=this.$_.cloneDeep(e),this.openDialog())}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exchange-order"},[a("div",{staticClass:"exchange-order_search"},[a("el-select",{attrs:{size:"small",value:e.searchParams.couponkey,placeholder:"请选择"},model:{value:e.searchParams.couponkey,callback:function(t){e.$set(e.searchParams,"couponkey",t)},expression:"searchParams.couponkey"}},e._l(e.configObject.couponList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-select",{attrs:{value:e.searchParams.from,size:"small",placeholder:"请选择"},model:{value:e.searchParams.from,callback:function(t){e.$set(e.searchParams,"from",t)},expression:"searchParams.from"}},e._l(e.configObject.SOURCE_LIST,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:e.getExchangeOrderList}},[e._v("过滤")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:e.downloadExchangeOrder}},[e._v("下载全部（每周一三五更新）")])],1),e._v(" "),a("div",{staticClass:"exchange-order_content"},[a("element-table",{attrs:{"table-columns":e.tableColumns,"table-data":e.tableData,"element-loading-background":"rgba(0, 0, 0, 0.5)"}}),e._v(" "),a("customize-pagination",{attrs:{"page-count":e.totalPages},on:{getList:e.getExchangeOrderList}})],1),e._v(" "),a("el-dialog",{attrs:{title:"兑换单详情",visible:e.dialogVisible,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.closeDialog}},[e.exchangeDetail?a("div",{staticClass:"exchange-dialog-content"},[a("div",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("来源礼券ID:")]),e._v(e._s(e.exchangeDetail.fromcouponid))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("目标礼券ID:")]),e._v(e._s(e.exchangeDetail.tocouponid))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("下单时间:")]),e._v(e._s(e.exchangeDetail.createtime))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("数量:")]),e._v(e._s(e.exchangeDetail.couponum))],2)],1),e._v(" "),a("base-item",[a("template",{slot:"label"},[e._v("收货地址:")]),e._v(e._s(e.exchangeDetail.recprov)+e._s(e.exchangeDetail.recity)+e._s(e.exchangeDetail.recounty)+e._s(e.exchangeDetail.recstreet))],2),e._v(" "),a("div",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("收货人名称:")]),e._v(e._s(e.exchangeDetail.recontact))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("收货人电话:")]),e._v(e._s(e.exchangeDetail.recphone))],2)],1),e._v(" "),a("base-item",[a("template",{slot:"label"},[e._v("发货地址:")]),e._v(e._s(e.exchangeDetail.sendprov)+e._s(e.exchangeDetail.sendcity)+e._s(e.exchangeDetail.sendcounty)+e._s(e.exchangeDetail.sendstreet))],2),e._v(" "),a("div",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("兑换人手机:")]),e._v(e._s(e.exchangeDetail.usermobile))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("祝福语:")]),e._v(e._s(e.exchangeDetail.hello))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("发货人名称:")]),e._v(e._s(e.exchangeDetail.sendcontact))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("发货人电话:")]),e._v(e._s(e.exchangeDetail.sendphone))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("来源:")]),e._v(e._s(e._f("formatConfigValueToLabel")(e.exchangeDetail.from,e.configObject.SOURCE_LIST)))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("昵称:")]),e._v(e._s(e.exchangeDetail.usernick))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("快递公司:")]),e.exchangeDetail.delcomname?[e._v(e._s(e._f("formatConfigValueToLabel")(e.exchangeDetail.delcomname,e.configObject.expressCompanyList)))]:e._e()],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("快递单号:")]),e.exchangeDetail.delid?[e._v(e._s(e.exchangeDetail.delid))]:e._e()],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("性别:")]),e._v(e._s(e._f("formatConfigValueToLabel")(e.exchangeDetail.usergender,e.configObject.SEX_LIST)))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("头像:")]),e.exchangeDetail.userhead?[a("span",{staticClass:"user-head"},[a("img",{attrs:{src:e.exchangeDetail.userhead,width:"100%",height:"100%"}})])]:e._e()],2)],1)],1):e._e(),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",round:""},on:{click:e.closeDialog}},[e._v("关闭")])],1)])],1)},staticRenderFns:[]};var _=a("VU/8")(c,u,!1,function(e){a("BsyO")},"data-v-7a7f8f8f",null);t.default=_.exports}});
//# sourceMappingURL=9.3a060b095849973b630f.js.map