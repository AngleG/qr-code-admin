webpackJsonp([10],{NNgT:function(e,t){},Ygit:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),o=a.n(s),r=a("woOf"),i=a.n(r),l=a("exGp"),n=a.n(l),c=a("mJM1"),u=a("ZEg/"),d=a("SgTw"),b=a("1nEv"),h={name:"index",data:function(){return{config:d.a,cityData:c.a,searchParams:{serialNumber:null,code:null,couponkey:null},requestParams:{Sendprov:null,sendcity:null,sendcounty:null,sendstreet:null,sendontact:null,sendphone:null},troubleshootDetail:null,configObject:{couponList:[],cityList:[],countyList:[],expressCompanyList:[],fromList:[{label:"全部",value:"ALL"},{label:"微信",value:"w"},{label:"支付宝",value:"z"},{label:"批量激活",value:"m"}],SEX_LIST:b.d},qrCodeFile:null,searchType:null}},computed:{payBtnStatus:function(){var e=this.troubleshootDetail,t={isManual:!1,isDelete:!1,statusText:""};return e?(void 0===e.codeinfo.payorderkey?(t.isManual=!0,t.statusText="未激活"):(t.isDelete=!0,t.statusText=void 0===e.paystatus?e.payorderinfo.status:e.paystatus),t):t},exchange:function(){var e=this.troubleshootDetail,t={isShowOperate:!1,statusText:""};return e?(void 0===e.codeinfo.exorderkey?(t.isShowOperate=!1,t.statusText="未兑换"):(t.isShowOperate=!0,t.statusText="已兑换"),t):t}},created:function(){this.getCouponList(),this.getExpressCompanyList()},methods:{getCouponList:function(){var e=this;return n()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getCouponList();case 2:"success"===(a=t.sent).flags?(e.configObject.couponList=[],a.data&&a.data.length&&(e.configObject.couponList=a.data.map(function(e){return i()({},e,{label:e.name,value:e.couponkey})}),e.searchParams.couponkey=e.configObject.couponList[0].value)):e.$toast(a.message,"error");case 4:case"end":return t.stop()}},t,e)}))()},getExpressCompanyList:function(){var e=this;return n()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getExpressCompanyList();case 2:"success"===(a=t.sent).flags?(e.configObject.expressCompanyList=[],a.data&&a.data.length&&(e.configObject.expressCompanyList=a.data)):e.$toast(a.message,"error");case 4:case"end":return t.stop()}},t,e)}))()},init:function(){var e=this.troubleshootDetail.exorderinfo.sendprov,t=this.troubleshootDetail.exorderinfo.sendcounty;e&&this.changeProvinceFn(),t&&this.changeCityFn()},changeProvinceFn:function(e){e&&(this.troubleshootDetail.exorderinfo.sendcity=null,this.troubleshootDetail.exorderinfo.sendcounty=null);var t=this.troubleshootDetail.exorderinfo.sendprov;this.configObject.cityList=t?this.cityData.find(function(e){return e.name===t}).children:[]},changeCityFn:function(e){e&&(this.troubleshootDetail.exorderinfo.sendcounty=null);var t=this.troubleshootDetail.exorderinfo.sendcity,a=this.configObject.cityList;this.configObject.countyList=t&&a.length?a.find(function(e){return e.name===t}).children:[]},getTroubleshootDetail:function(){var e=this;return n()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.searchParams.code){t.next=2;break}return t.abrupt("return",e.$toast("请输入二维码号码"));case 2:return t.next=4,u.a.getTroubleshootDetail({code:e.searchParams.code});case 4:"success"===(a=t.sent).flags?(a.data&&(e.troubleshootDetail=a.data),e.searchType="code",e.troubleshootDetail&&e.troubleshootDetail.exorderinfo&&e.init()):e.$toast(a.message,"error");case 6:case"end":return t.stop()}},t,e)}))()},getTroubleshoot:function(){var e=this;return n()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.searchParams.serialNumber){t.next=2;break}return t.abrupt("return",e.$toast("请输入序列号"));case 2:return t.next=4,u.a.getTroubleshootDetail({code:e.searchParams.serialNumber,couponkey:e.searchParams.couponkey});case 4:"success"===(a=t.sent).flags?(a.data&&(e.troubleshootDetail=a.data),e.searchType="code",e.troubleshootDetail&&e.troubleshootDetail.exorderinfo&&e.init()):e.$toast(a.message,"error");case 6:case"end":return t.stop()}},t,e)}))()},upload:function(){var e=this;return n()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.qrCodeFile){t.next=2;break}return t.abrupt("return",e.$toast("请浏览图片后上传"));case 2:return t.next=4,u.a.upload(e.qrCodeFile,{},"/rqrcbp");case 4:"success"===(a=t.sent).flags?(a.data&&(e.troubleshootDetail=a.data),e.searchType="file",e.troubleshootDetail&&e.troubleshootDetail.exorderinfo&&e.init()):e.$toast(a.message,"error");case 6:case"end":return t.stop()}},t,e)}))()},getTroubleshootDetailByType:function(){"file"===this.searchType?this.upload():"code"===this.searchType&&this.getTroubleshootDetail()},getCacheFile:function(e){this.qrCodeFile=e.target.files[0],this.qrCodeFile&&this.upload()},saveQuestionExChangedOrder:function(){var e=this;return n()(o.a.mark(function t(){var a,s,r,l,n,c,d,b,h,p,_,f,v,m,y,x,g,D,C,w,k;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},!e.troubleshootDetail){t.next=7;break}s=e.troubleshootDetail.codeinfo,r=s.codekey,l=s.exorderkey,n=e.troubleshootDetail.exorderinfo,c=n.recprov,d=n.recity,b=n.recounty,h=n.recstreet,p=n.recontact,_=n.recphone,f=n.delcom,v=n.delid,m=n.sendprov,y=n.sendcity,x=n.sendcounty,g=n.sendstreet,D=n.sendcontact,C=n.sendphone,w=n.log,a=i()(a,{codekey:r,exorderkey:l},{recprov:c,recity:d,recounty:b,recsteet:h,recontact:p,recphone:_,delcom:f,delid:v,sendprov:m,sendcity:y,sendcounty:x,sendstreet:g,sendcontact:D,sendphone:C,log:w}),t.next=8;break;case 7:return t.abrupt("return",e.$toast("请求参数不存在"));case 8:return t.next=10,u.a.saveQuestionExChangedOrder(a);case 10:"success"===(k=t.sent).flags?(e.$toast("修改成功","success"),e.getTroubleshootDetailByType()):e.$toast(k.message,"error");case 12:case"end":return t.stop()}},t,e)}))()},deleteQuestionExChangedOrder:function(){var e=this;return n()(o.a.mark(function t(){var a,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},!e.troubleshootDetail){t.next=6;break}s=e.troubleshootDetail.codeinfo.codekey,a=i()(a,{codekey:s}),t.next=7;break;case 6:return t.abrupt("return",e.$toast("请求参数不存在"));case 7:return t.next=9,u.a.deleteQuestionExChangedOrder(a);case 9:"success"===(r=t.sent).flags?(e.$toast("删除成功","success"),e.getTroubleshootDetailByType()):e.$toast(r.message,"error");case 11:case"end":return t.stop()}},t,e)}))()},deleteQuestionPayOrder:function(){var e=this;return n()(o.a.mark(function t(){var a,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},!e.troubleshootDetail){t.next=6;break}s=e.troubleshootDetail.codeinfo.codekey,a=i()(a,{codekey:s}),t.next=7;break;case 6:return t.abrupt("return",e.$toast("请求参数不存在"));case 7:return t.next=9,u.a.deleteQuestionPayOrder(a);case 9:"success"===(r=t.sent).flags?(e.$toast("删除成功","success"),e.getTroubleshootDetailByType()):e.$toast(r.message,"error");case 11:case"end":return t.stop()}},t,e)}))()},manualQuestionPayOrder:function(){var e=this;return n()(o.a.mark(function t(){var a,s,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},!e.troubleshootDetail){t.next=6;break}s=e.troubleshootDetail.codeinfo.codekey,a=i()(a,{codekey:s}),t.next=7;break;case 6:return t.abrupt("return",e.$toast("请求参数不存在"));case 7:return t.next=9,u.a.deleteQuestionPayOrder(a);case 9:"success"===(r=t.sent).flags?(e.$toast("激活成功","success"),e.getTroubleshootDetailByType()):e.$toast(r.message,"error");case 11:case"end":return t.stop()}},t,e)}))()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"troubleshoot"},[a("div",{staticClass:"troubleshoot-search"},[e.qrCodeFile?a("span",{staticClass:"file-name"},[e._v(e._s(e.qrCodeFile.name))]):e._e(),e._v(" "),a("input",{staticStyle:{visibility:"hidden",width:"0",height:"0"},attrs:{type:"file",accept:"image/png,image/jpeg,image/gif",name:"file",id:"file_troubleshoot"},on:{change:e.getCacheFile}}),e._v(" "),e._m(0),e._v(" "),a("el-input",{staticStyle:{width:"200px","margin-right":"5px"},attrs:{size:"small",maxLength:"20",placeholder:"请输入二维码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTroubleshootDetail(t)}},model:{value:e.searchParams.code,callback:function(t){e.$set(e.searchParams,"code",t)},expression:"searchParams.code"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:e.getTroubleshootDetail}},[e._v("查询")]),a("br"),e._v(" "),a("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择"},model:{value:e.searchParams.couponkey,callback:function(t){e.$set(e.searchParams,"couponkey",t)},expression:"searchParams.couponkey"}},e._l(e.configObject.couponList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-input",{staticStyle:{width:"200px","margin-right":"5px"},attrs:{size:"small",maxLength:"20",placeholder:"请输入序列号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getTroubleshootDetail(t)}},model:{value:e.searchParams.serialNumber,callback:function(t){e.$set(e.searchParams,"serialNumber",t)},expression:"searchParams.serialNumber"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:e.getTroubleshoot}},[e._v("查询")])],1),e._v(" "),e.troubleshootDetail?a("div",{staticClass:"troubleshoot-content"},[a("p",{staticClass:"distribute-desc"},[e.troubleshootDetail.codeinfo&&e.troubleshootDetail.codeinfo.agentcompany?a("span",[e._v("已分发给经销商 "),a("font",{attrs:{color:"orange"}},[e._v(e._s(e.troubleshootDetail.codeinfo.agentcompany))])],1):e._e(),e._v(" "),e.troubleshootDetail.codeinfo&&!e.troubleshootDetail.codeinfo.agentcompany?a("span",[e._v("未分发")]):e._e()]),e._v(" "),e.troubleshootDetail.payorderinfo?a("div",{staticClass:"troubleshoot-content-item"},[a("p",{staticClass:"status clearfix",staticStyle:{"line-height":"34px"}},[a("base-item",{staticClass:"w_50"},[a("template",{slot:"label"},[e._v("状态:")]),e._v(e._s(e._f("paymentOrderStatusToText")(e.payBtnStatus.statusText)))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("经销商名称:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.agentcompany))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("支付账号:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.accountuser))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("支付金额:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.distotal))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("折扣:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.discount)),e.troubleshootDetail.payorderinfo.discount?[e._v("折")]:e._e()],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("礼券名称:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.couponname))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("礼券id:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.couponid))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("下单时间:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.createtime))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("支付时间:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.lastupdatime))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("原单价:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.nodisvalue))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("张数:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.couponum))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("来源:")]),e._v(e._s(e._f("formatConfigValueToLabel")(e.troubleshootDetail.payorderinfo.from,e.configObject.fromList)))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("昵称:")]),e._v(e._s(e.troubleshootDetail.payorderinfo.usernick))],2)],1),e._v(" "),a("p",{staticClass:"avatar clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("性 别:")]),e._v(e._s(e._f("formatConfigValueToLabel")(e.troubleshootDetail.payorderinfo.usergender,e.configObject.SEX_LIST)))],2),e._v(" "),e.troubleshootDetail.payorderinfo.userhead?a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("头 像:")]),e._v(" "),e.troubleshootDetail.payorderinfo.userhead?[a("span",{staticClass:"user-head"},[a("img",{attrs:{src:e.troubleshootDetail.payorderinfo.userhead,width:"100%",height:"100%"}})])]:e._e()],2):e._e()],1)]):e._e(),e._v(" "),e.troubleshootDetail.exorderinfo?a("div",{staticClass:"troubleshoot-content-item custom-height"},[a("p",{staticClass:"status clearfix",staticStyle:{"line-height":"34px"}},[a("base-item",{staticClass:"w_50"},[a("template",{slot:"label"},[e._v("状态:")]),e._v(e._s(e.exchange.statusText))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("兑换来源:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.fromcouponname))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("兑换目标"),a("font",{attrs:{color:"orange"}},[e._v("(数量)")]),e._v(":")],1),e._v(e._s(e.troubleshootDetail.exorderinfo.tocouponname)),a("font",{attrs:{color:"orange"}},[e._v("（"+e._s(e.troubleshootDetail.exorderinfo.couponum)+"）")])],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",[a("template",{slot:"label"},[e._v("配送地址:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.recprov)+e._s(e.troubleshootDetail.exorderinfo.recity)+e._s(e.troubleshootDetail.exorderinfo.recounty)+e._s(e.troubleshootDetail.exorderinfo.recstreet))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("收货联系人:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.recontact))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("收货人电话:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.recphone))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("兑换人手机:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.usermobile))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("祝福语:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.hello))],2)],1),e._v(" "),a("p",{staticClass:"troubleshoot-content_address clearfix"},[a("base-item",[a("template",{slot:"label"},[e._v("发货地址:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.sendprov)+e._s(e.troubleshootDetail.exorderinfo.sendcity)+e._s(e.troubleshootDetail.exorderinfo.sendcounty)+e._s(e.troubleshootDetail.exorderinfo.sendstreet))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("发货联系人:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.sendcontact))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("发货人电话:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.sendphone))],2)],1),e._v(" "),a("p",{staticClass:"avatar clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("快递公司:")]),e._v(e._s(e._f("formatConfigValueToLabel")(e.troubleshootDetail.exorderinfo.delcomname,e.configObject.expressCompanyList)))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("快递单号:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.delid))],2)],1),e._v(" "),a("p",[a("base-item",[a("template",{slot:"label"},[e._v("写给用户:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.log))],2)],1),e._v(" "),a("p",{staticClass:"clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("来源:")]),e._v(e._s(e._f("formatConfigValueToLabel")(e.troubleshootDetail.exorderinfo.from,e.configObject.fromList)))],2),e._v(" "),a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("昵称:")]),e._v(e._s(e.troubleshootDetail.exorderinfo.usernick))],2)],1),e._v(" "),a("p",{staticClass:"avatar clearfix"},[a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("性 别:")]),e._v(e._s(e._f("formatConfigValueToLabel")(e.troubleshootDetail.exorderinfo.usergender,e.configObject.SEX_LIST)))],2),e._v(" "),e.troubleshootDetail.exorderinfo.userhead?a("base-item",{staticClass:"w_50",attrs:{inline:""}},[a("template",{slot:"label"},[e._v("头 像:")]),e._v(" "),e.troubleshootDetail.exorderinfo.userhead?[a("span",{staticClass:"user-head"},[a("img",{attrs:{src:e.troubleshootDetail.exorderinfo.userhead,width:"100%",height:"100%"}})])]:e._e()],2):e._e()],1)]):e._e()]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",{attrs:{for:"file_troubleshoot"}},[t("span",{staticClass:"el-button el-button--primary el-button--small is-round",staticStyle:{"margin-right":"20px"}},[this._v("上传二维码查询")])])}]};var _=a("VU/8")(h,p,!1,function(e){a("NNgT")},"data-v-67746bcb",null);t.default=_.exports}});
//# sourceMappingURL=10.276b63b4e70cbf0422de.js.map