webpackJsonp([12],{jf5u:function(e,t){},vWEa:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Xxa5"),n=s.n(a),l=s("woOf"),i=s.n(l),r=s("exGp"),c=s.n(r),o=s("mJM1"),u=s("ZEg/"),p=(s("1nEv"),{data:function(){return{cityData:o.a,isLoading:!1,searchRequestParams:{couponkey:null,from:"w"},preShipOrderList:[],shipOrderList:[],configObject:{couponList:[],SOURCE_LIST:[{label:"微信",value:"w"},{label:"支付宝",value:"z"},{label:"批量兑换",value:"m"}],expressCompanyList:[]}}},created:function(){this.getExpressCompanyList(),this.getCouponList().then(this.getShipList)},methods:{getCurrentCityList:function(e,t){return t?e.find(function(e){return e.name===t}).children:[]},getCurrentCountyList:function(e,t,s){return t&&s?e.find(function(e){return e.name===t}).children.find(function(e){return e.name===s}).children:[]},getCouponList:function(){var e=this;return c()(n.a.mark(function t(){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getCouponList();case 2:"success"===(s=t.sent).flags?(e.configObject.couponList=[],s.data&&s.data.length&&(e.configObject.couponList=s.data.map(function(e){return i()({},e,{label:e.name,value:e.couponkey})}),e.searchRequestParams.couponkey=e.configObject.couponList[0].value)):e.$toast(s.message,"error");case 4:case"end":return t.stop()}},t,e)}))()},getExpressCompanyList:function(){var e=this;return c()(n.a.mark(function t(){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.getExpressCompanyList();case 2:"success"===(s=t.sent).flags?(e.configObject.expressCompanyList=[],s.data&&s.data.length&&(e.configObject.expressCompanyList=s.data.map(function(e){return i()({},{label:e.name,value:e.value})}))):e.$toast(s.message,"error");case 4:case"end":return t.stop()}},t,e)}))()},getShipList:function(){var e=this;return c()(n.a.mark(function t(){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,u.a.getShipList(e.searchRequestParams);case 3:"success"===(s=t.sent).flags?(e.shipOrderList=[],e.preShipOrderList=[],s.data&&s.data.length&&(e.preShipOrderList=s.data.slice(),e.shipOrderList=s.data)):e.$toast(s.message,"error"),e.isLoading=!1;case 6:case"end":return t.stop()}},t,e)}))()},saveHandle:function(e){var t=this;return c()(n.a.mark(function s(){var a,l;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(a=t.$_.cloneDeep(t.shipOrderList[e])).exorderkey=a.orderkey,delete a.orderkey,s.next=5,u.a.saveShipInformation(a);case 5:"success"===(l=s.sent).flags?t.$toast("保存成功！","success"):t.$toast(l.message,"error");case 7:case"end":return s.stop()}},s,t)}))()},changeProvinceCityFn:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.shipOrderList[e].sendcity=null),this.shipOrderList[e].sendcounty=null}}}),d={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"ship"},[s("div",{staticClass:"ship_search"},[s("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.searchRequestParams.couponkey,callback:function(t){e.$set(e.searchRequestParams,"couponkey",t)},expression:"searchRequestParams.couponkey"}},e._l(e.configObject.couponList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),s("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.searchRequestParams.from,callback:function(t){e.$set(e.searchRequestParams,"from",t)},expression:"searchRequestParams.from"}},e._l(e.configObject.SOURCE_LIST,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),s("el-button",{attrs:{size:"small",type:"primary",round:""},on:{click:e.getShipList}},[e._v("刷新发货列表")])],1),e._v(" "),s("div",{staticClass:"ship_content",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"}},[e._l(e.shipOrderList,function(t,a){return e.shipOrderList.length?s("div",{key:a,staticClass:"ship_content-item"},[s("div",[s("span",{staticClass:"label"},[e._v("兑换来源:")]),e._v(" "),s("span",{staticClass:"text-field"},[e._v(e._s(t.fromcouponname))]),e._v(" "),s("span",{staticClass:"label"},[e._v("兑换目标:")]),e._v(" "),s("span",{staticClass:"text-field"},[e._v(e._s(t.tocouponname))])]),e._v(" "),s("div",[s("span",{staticClass:"label"},[e._v("配送物品:")]),e._v(" "),t.fromcouponid&&t.tocouponid&&t.fromcouponid===t.tocouponid?s("span",{staticClass:"text-field"},[e._v("产品实物"),s("font",{attrs:{color:"red"}},[e._v(e._s(t.couponum))]),e._v("盒")],1):e._e(),e._v(" "),t.fromcouponid&&t.tocouponid&&t.fromcouponid!==t.tocouponid?s("span",{staticClass:"text-field"},[e._v("产品礼券"),s("font",{attrs:{color:"red"}},[e._v(e._s(t.couponum))]),e._v("张")],1):e._e()]),e._v(" "),s("div",[s("span",{staticClass:"label"},[e._v("配送地址:")]),e._v(" "),s("span",{staticClass:"text-field"},[e._v(e._s(t.recprov)+e._s(t.recity)+e._s(t.recounty)+e._s(t.recstreet))])]),e._v(" "),s("div",[s("span",{staticClass:"label"},[e._v("收货联系人:")]),e._v(" "),s("span",{staticClass:"text-field"},[e._v(e._s(t.recontact))]),e._v(" "),s("span",{staticClass:"label"},[e._v("收货人电话:")]),e._v(" "),s("span",{staticClass:"text-field"},[e._v(e._s(t.recphone))])]),e._v(" "),s("div",[s("span",{staticClass:"label"},[e._v("兑换人手机:")]),e._v(" "),s("span",{staticClass:"text-field"},[e._v(e._s(t.usermobile))]),e._v(" "),s("span",{staticClass:"label"},[e._v("祝福语:")]),e._v(" "),s("span",{staticClass:"text-field"},[e._v(e._s(t.hello))])]),e._v(" "),s("div",{staticClass:"ship_content_address"},[s("span",{staticClass:"label"},[e._v("发货地址:")]),e._v(" "),s("el-select",{attrs:{size:"samll",value:t.sendprov},on:{change:function(t){return e.changeProvinceCityFn(a)}},model:{value:t.sendprov,callback:function(s){e.$set(t,"sendprov",s)},expression:"item.sendprov"}},e._l(e.cityData,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1),e._v(" "),s("el-select",{attrs:{size:"samll",value:t.sendcity},on:{change:function(t){return e.changeProvinceCityFn(a,!1)}},model:{value:t.sendcity,callback:function(s){e.$set(t,"sendcity",s)},expression:"item.sendcity"}},e._l(e.getCurrentCityList(e.cityData,t.sendprov),function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1),e._v(" "),s("el-select",{attrs:{size:"samll",value:t.sendcounty},model:{value:t.sendcounty,callback:function(s){e.$set(t,"sendcounty",s)},expression:"item.sendcounty"}},e._l(e.getCurrentCountyList(e.cityData,t.sendprov,t.sendcity),function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1),e._v(" "),s("el-input",{staticStyle:{width:"145px"},attrs:{size:"small",maxlength:"100",placeholder:"请输入街道地址"},model:{value:t.sendstreet,callback:function(s){e.$set(t,"sendstreet",s)},expression:"item.sendstreet"}})],1),e._v(" "),s("div",[s("span",{staticClass:"label"},[e._v("发货联系人:")]),e._v(" "),s("span",{staticClass:"text-field"},[s("el-input",{staticStyle:{width:"160px"},attrs:{size:"small",maxlength:"50",placeholder:"请输入联系人姓名"},model:{value:t.sendcontact,callback:function(s){e.$set(t,"sendcontact",s)},expression:"item.sendcontact"}})],1),e._v(" "),s("span",{staticClass:"label"},[e._v("发货人电话:")]),e._v(" "),s("span",{staticClass:"text-field"},[s("el-input",{staticStyle:{width:"160px"},attrs:{size:"small",maxlength:"50",placeholder:"请输入发货人电话"},model:{value:t.sendphone,callback:function(s){e.$set(t,"sendphone",s)},expression:"item.sendphone"}})],1)]),e._v(" "),s("div",[s("span",{staticClass:"label"},[e._v("快递公司:")]),e._v(" "),s("span",{staticClass:"text-field"},[s("el-select",{staticStyle:{width:"160px"},attrs:{size:"samll"},model:{value:t.delcom,callback:function(s){e.$set(t,"delcom",s)},expression:"item.delcom"}},e._l(e.configObject.expressCompanyList,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("span",{staticClass:"label"},[e._v("快递单号:")]),e._v(" "),s("span",{staticClass:"text-field"},[s("el-input",{staticStyle:{width:"160px"},attrs:{size:"small",maxlength:"50",placeholder:"请输入快递单号"},model:{value:t.delid,callback:function(s){e.$set(t,"delid",s)},expression:"item.delid"}})],1)]),e._v(" "),s("div",[s("span",{staticClass:"label"},[e._v("写给用户:")]),e._v(" "),s("span",{staticClass:"text-field"},[s("el-input",{attrs:{size:"small",placeholder:"写给用户"},model:{value:t.log,callback:function(s){e.$set(t,"log",s)},expression:"item.log"}})],1)]),e._v(" "),s("el-button",{staticStyle:{"margin-top":"5px"},attrs:{size:"small",type:"primary",round:""},on:{click:function(t){return e.saveHandle(a)}}},[e._v("保存发货信息")])],1):e._e()}),e._v(" "),e.shipOrderList.length?e._e():s("div",{staticClass:"no-data"},[e._v("暂无数据")])],2)])},staticRenderFns:[]};var v=s("VU/8")(p,d,!1,function(e){s("jf5u")},"data-v-199fe15e",null);t.default=v.exports}});
//# sourceMappingURL=12.2393bf917599c77fc738.js.map