{"version":3,"sources":["webpack:///src/views/pages/consumer/consumer-exchange-order.vue","webpack:///./src/views/pages/consumer/consumer-exchange-order.vue?96a1","webpack:///./src/views/pages/consumer/consumer-exchange-order.vue"],"names":["consumer_exchange_order","data","_this","this","$createElement","configObject","SOURCE_LIST","config_list","SEX_LIST","expressCompanyList","couponList","searchParams","from","couponkey","pagenum","tableColumns","title","align","key","render","h","params","on","click","setCurrentExchangeDetail","bind","row","attrs","size","type","tableData","isLoading","totalPages","dialogVisible","exchangeDetail","created","getCouponList","getExpressCompanyList","getExchangeOrderList","methods","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","api","sent","flags","length","reverse","map","item","label","name","value","unshift","$toast","message","stop","_this3","_callee2","_context2","currentPage","_this4","_callee3","_context3","$_","cloneDeep","totalpages","pagedorders","downloadExchangeOrder","_this5","_callee4","_context4","window","open","url","openDialog","closeDialog","$restObjectAttribute","consumer_consumer_exchange_order","_vm","_h","_c","_self","staticClass","placeholder","model","callback","$$v","$set","expression","_l","_v","round","table-columns","table-data","element-loading-background","page-count","getList","visible","close-on-click-modal","width","update:visible","$event","close","inline","slot","_s","fromcouponid","tocouponid","createtime","couponum","recprov","recity","recounty","recstreet","recontact","recphone","sendprov","sendcity","sendcounty","sendstreet","usermobile","hello","sendcontact","sendphone","_f","usernick","delcomname","_e","delid","usergender","src","userhead","height","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/9.3a060b095849973b630f.js","sourcesContent":["<template>\r\n  <div class=\"exchange-order\">\r\n    <div class=\"exchange-order_search\">\r\n      <el-select\r\n        size=\"small\"\r\n        v-model=\"searchParams.couponkey\"\r\n        :value=\"searchParams.couponkey\"\r\n        placeholder=\"请选择\">\r\n        <el-option\r\n          v-for=\"item in configObject.couponList\"\r\n          :label=\"item.label\"\r\n          :key=\"item.value\"\r\n          :value=\"item.value\"/>\r\n      </el-select>\r\n      <el-select\r\n        v-model=\"searchParams.from\"\r\n        :value=\"searchParams.from\"\r\n        size=\"small\"\r\n        placeholder=\"请选择\">\r\n        <el-option\r\n          v-for=\"item in configObject.SOURCE_LIST\"\r\n          :label=\"item.label\"\r\n          :key=\"item.value\"\r\n          :value=\"item.value\" />\r\n      </el-select>\r\n      <el-button @click=\"getExchangeOrderList\" size=\"small\" type=\"primary\" round>过滤</el-button>\r\n      <el-button @click=\"downloadExchangeOrder\" size=\"small\" type=\"primary\" round>下载全部（每周一三五更新）</el-button>\r\n    </div>\r\n    <div class=\"exchange-order_content\">\r\n      <element-table :table-columns=\"tableColumns\" :table-data=\"tableData\" element-loading-background=\"rgba(0, 0, 0, 0.5)\"></element-table>\r\n      <customize-pagination @getList=\"getExchangeOrderList\" :page-count=\"totalPages\"/>\r\n    </div>\r\n    <el-dialog\r\n      title=\"兑换单详情\"\r\n      :visible.sync=\"dialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      @close=\"closeDialog\"\r\n      width=\"600px\">\r\n      <div class=\"exchange-dialog-content\" v-if=\"exchangeDetail\">\r\n        <div class=\"clearfix\">\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">来源礼券ID:</template>{{ exchangeDetail.fromcouponid }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">目标礼券ID:</template>{{ exchangeDetail.tocouponid }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">下单时间:</template>{{ exchangeDetail.createtime }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">数量:</template>{{ exchangeDetail.couponum }}</base-item>\r\n        </div>\r\n        <base-item><template slot=\"label\">收货地址:</template>{{ exchangeDetail.recprov }}{{exchangeDetail.recity}}{{exchangeDetail.recounty}}{{exchangeDetail.recstreet}}</base-item>\r\n        <div class=\"clearfix\">\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">收货人名称:</template>{{ exchangeDetail.recontact }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">收货人电话:</template>{{ exchangeDetail.recphone }}</base-item>\r\n        </div>\r\n        <base-item><template slot=\"label\">发货地址:</template>{{ exchangeDetail.sendprov }}{{exchangeDetail.sendcity}}{{exchangeDetail.sendcounty}}{{exchangeDetail.sendstreet}}</base-item>\r\n        <div class=\"clearfix\">\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">兑换人手机:</template>{{ exchangeDetail.usermobile }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">祝福语:</template>{{ exchangeDetail.hello }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">发货人名称:</template>{{ exchangeDetail.sendcontact }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">发货人电话:</template>{{ exchangeDetail.sendphone }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">来源:</template>{{ exchangeDetail.from | formatConfigValueToLabel(configObject.SOURCE_LIST) }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">昵称:</template>{{ exchangeDetail.usernick }}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">快递公司:</template><template v-if=\"exchangeDetail.delcomname\">{{ exchangeDetail.delcomname | formatConfigValueToLabel(configObject.expressCompanyList)}}</template></base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">快递单号:</template><template v-if=\"exchangeDetail.delid\">{{ exchangeDetail.delid }}</template></base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">性别:</template>{{ exchangeDetail.usergender | formatConfigValueToLabel(configObject.SEX_LIST)}}</base-item>\r\n          <base-item class=\"w_50\" inline><template slot=\"label\">头像:</template><template v-if=\"exchangeDetail.userhead\"><span class=\"user-head\"><img :src=\"exchangeDetail.userhead\" width=\"100%\" height=\"100%\"></span></template></base-item>\r\n        </div>\r\n      </div>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"small\" @click=\"closeDialog\" round>关闭</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import webApi from '../../../lib/api'\r\n  import {SOURCE_LIST, SEX_LIST} from '../../../conf/config-list'\r\n  export default {\r\n    data() {\r\n      return {\r\n        configObject: {\r\n          SOURCE_LIST,\r\n          SEX_LIST,\r\n          expressCompanyList: [],\r\n          couponList: []\r\n        },\r\n        searchParams: {\r\n          from: 'ALL',\r\n          couponkey: 'ALL',\r\n          pagenum: 0\r\n        },\r\n        tableColumns: [\r\n          {title: '兑换来源', align: 'center', key: 'fromcouponname' },\r\n          {title: '兑换目标', align: 'center', key: 'tocouponname' },\r\n          {title: '更新时间', align: 'center', key: 'lastupdatime' },\r\n          {title: '操作', align: 'center', render: (h, params) => <el-button onClick={this.setCurrentExchangeDetail.bind(this, params.row)} size=\"medium\" type=\"text\">查看</el-button>},\r\n        ],\r\n        tableData: [],\r\n        isLoading: false,\r\n        totalPages: 0,\r\n        dialogVisible: false,\r\n        exchangeDetail: null\r\n      }\r\n    },\r\n    created() {\r\n      this.getCouponList();\r\n      this.getExpressCompanyList();\r\n      this.getExchangeOrderList();\r\n    },\r\n    methods: {\r\n      /**\r\n       * 获取礼券列表\r\n       */\r\n      async getCouponList(){\r\n        let res = await webApi.getCouponList({});\r\n        if(res.flags === 'success'){\r\n          this.configObject.couponList = [];\r\n          if(res.data && res.data.length){\r\n            this.configObject.couponList = res.data.reverse().map(item => ({label: item.name, value: item.couponkey}));\r\n            this.configObject.couponList.unshift({label: '全部礼券', value: 'ALL'});\r\n          }\r\n        }else {\r\n          this.$toast(res.message, 'error');\r\n        }\r\n      },\r\n      /**\r\n       * 获取快递公司列表\r\n       */\r\n      async getExpressCompanyList(){\r\n        let res = await webApi.getExpressCompanyList();\r\n        if(res.flags === 'success'){\r\n          this.configObject.expressCompanyList = [];\r\n          if(res.data && res.data.length){\r\n            this.configObject.expressCompanyList = res.data;\r\n          }\r\n        }else {\r\n          this.$toast(res.message, 'error');\r\n        }\r\n      },\r\n      /**\r\n       * 获取兑换订单分页列表\r\n       * @returns {Promise<void>}\r\n       */\r\n      async getExchangeOrderList(currentPage) {\r\n        this.isLoading = true;\r\n        let params = this.$_.cloneDeep(this.searchParams);\r\n        params.pagenum = typeof currentPage === 'number' ? currentPage : 0;\r\n        let res = await webApi.getExchangeOrderList(params);\r\n        if (res.flags === 'success') {\r\n          this.tableData = [];\r\n          this.totalPages = 0;\r\n          if (res.data) {\r\n            this.totalPages = res.data.totalpages;\r\n            this.tableData = res.data.pagedorders;\r\n          }\r\n        } else {\r\n          this.$toast(res.message, 'error');\r\n        }\r\n        this.isLoading = false;\r\n      },\r\n      /**\r\n       * 下载全部\r\n       */\r\n      async downloadExchangeOrder(){\r\n        let res = await webApi.downloadExchangeOrder();\r\n        if(res.flags === 'success'){\r\n          window.open(res.url)\r\n        }else {\r\n          this.$toast(res.message, 'error');\r\n        }\r\n      },\r\n      openDialog() {\r\n        this.dialogVisible = true;\r\n      },\r\n      closeDialog() {\r\n        this.dialogVisible = false;\r\n        if (this.exchangeDetail) {\r\n          this.$restObjectAttribute(this.exchangeDetail)\r\n        }\r\n      },\r\n      setCurrentExchangeDetail(row) {\r\n        if (row) {\r\n          this.exchangeDetail = this.$_.cloneDeep(row);\r\n          this.openDialog();\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .exchange-dialog-content{\r\n    text-align: left;\r\n    /deep/ {\r\n      @include customFormItem(85px, 34px, #afafaf, #fff, false);\r\n      .w_50{\r\n        width: 50%;\r\n        float: left;\r\n      }\r\n      .user-head{\r\n        display: inline-block;\r\n        width: 40px;\r\n        height: 40px;\r\n        border-radius: 50%;\r\n        overflow: hidden;\r\n      }\r\n    }\r\n  }\r\n  .exchange-order {\r\n    .exchange-order_search {\r\n      min-height: 50px;\r\n      line-height: 36px;\r\n      padding: 7px 30px;\r\n      text-align: left;\r\n      overflow: hidden;\r\n      .el-select {\r\n        margin-right: 5px;\r\n      }\r\n      .el-input {\r\n        width: 300px;\r\n        margin-right: 5px;\r\n      }\r\n    }\r\n    .exchange-order_content {\r\n      height: 100%;\r\n      padding: 20px 30px;\r\n      overflow-y: auto;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/pages/consumer/consumer-exchange-order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"exchange-order\"},[_c('div',{staticClass:\"exchange-order_search\"},[_c('el-select',{attrs:{\"size\":\"small\",\"value\":_vm.searchParams.couponkey,\"placeholder\":\"请选择\"},model:{value:(_vm.searchParams.couponkey),callback:function ($$v) {_vm.$set(_vm.searchParams, \"couponkey\", $$v)},expression:\"searchParams.couponkey\"}},_vm._l((_vm.configObject.couponList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-select',{attrs:{\"value\":_vm.searchParams.from,\"size\":\"small\",\"placeholder\":\"请选择\"},model:{value:(_vm.searchParams.from),callback:function ($$v) {_vm.$set(_vm.searchParams, \"from\", $$v)},expression:\"searchParams.from\"}},_vm._l((_vm.configObject.SOURCE_LIST),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.getExchangeOrderList}},[_vm._v(\"过滤\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.downloadExchangeOrder}},[_vm._v(\"下载全部（每周一三五更新）\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"exchange-order_content\"},[_c('element-table',{attrs:{\"table-columns\":_vm.tableColumns,\"table-data\":_vm.tableData,\"element-loading-background\":\"rgba(0, 0, 0, 0.5)\"}}),_vm._v(\" \"),_c('customize-pagination',{attrs:{\"page-count\":_vm.totalPages},on:{\"getList\":_vm.getExchangeOrderList}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"兑换单详情\",\"visible\":_vm.dialogVisible,\"close-on-click-modal\":false,\"width\":\"600px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.closeDialog}},[(_vm.exchangeDetail)?_c('div',{staticClass:\"exchange-dialog-content\"},[_c('div',{staticClass:\"clearfix\"},[_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"来源礼券ID:\")]),_vm._v(_vm._s(_vm.exchangeDetail.fromcouponid))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"目标礼券ID:\")]),_vm._v(_vm._s(_vm.exchangeDetail.tocouponid))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"下单时间:\")]),_vm._v(_vm._s(_vm.exchangeDetail.createtime))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"数量:\")]),_vm._v(_vm._s(_vm.exchangeDetail.couponum))],2)],1),_vm._v(\" \"),_c('base-item',[_c('template',{slot:\"label\"},[_vm._v(\"收货地址:\")]),_vm._v(_vm._s(_vm.exchangeDetail.recprov)+_vm._s(_vm.exchangeDetail.recity)+_vm._s(_vm.exchangeDetail.recounty)+_vm._s(_vm.exchangeDetail.recstreet))],2),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"},[_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"收货人名称:\")]),_vm._v(_vm._s(_vm.exchangeDetail.recontact))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"收货人电话:\")]),_vm._v(_vm._s(_vm.exchangeDetail.recphone))],2)],1),_vm._v(\" \"),_c('base-item',[_c('template',{slot:\"label\"},[_vm._v(\"发货地址:\")]),_vm._v(_vm._s(_vm.exchangeDetail.sendprov)+_vm._s(_vm.exchangeDetail.sendcity)+_vm._s(_vm.exchangeDetail.sendcounty)+_vm._s(_vm.exchangeDetail.sendstreet))],2),_vm._v(\" \"),_c('div',{staticClass:\"clearfix\"},[_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"兑换人手机:\")]),_vm._v(_vm._s(_vm.exchangeDetail.usermobile))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"祝福语:\")]),_vm._v(_vm._s(_vm.exchangeDetail.hello))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"发货人名称:\")]),_vm._v(_vm._s(_vm.exchangeDetail.sendcontact))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"发货人电话:\")]),_vm._v(_vm._s(_vm.exchangeDetail.sendphone))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"来源:\")]),_vm._v(_vm._s(_vm._f(\"formatConfigValueToLabel\")(_vm.exchangeDetail.from,_vm.configObject.SOURCE_LIST)))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"昵称:\")]),_vm._v(_vm._s(_vm.exchangeDetail.usernick))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"快递公司:\")]),(_vm.exchangeDetail.delcomname)?[_vm._v(_vm._s(_vm._f(\"formatConfigValueToLabel\")(_vm.exchangeDetail.delcomname,_vm.configObject.expressCompanyList)))]:_vm._e()],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"快递单号:\")]),(_vm.exchangeDetail.delid)?[_vm._v(_vm._s(_vm.exchangeDetail.delid))]:_vm._e()],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"性别:\")]),_vm._v(_vm._s(_vm._f(\"formatConfigValueToLabel\")(_vm.exchangeDetail.usergender,_vm.configObject.SEX_LIST)))],2),_vm._v(\" \"),_c('base-item',{staticClass:\"w_50\",attrs:{\"inline\":\"\"}},[_c('template',{slot:\"label\"},[_vm._v(\"头像:\")]),(_vm.exchangeDetail.userhead)?[_c('span',{staticClass:\"user-head\"},[_c('img',{attrs:{\"src\":_vm.exchangeDetail.userhead,\"width\":\"100%\",\"height\":\"100%\"}})])]:_vm._e()],2)],1)],1):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\"关闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7a7f8f8f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/pages/consumer/consumer-exchange-order.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7a7f8f8f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"E:\\\\\\\\project\\\\\\\\qr_code_amdin\\\\\\\\src\\\\\\\\static\\\\\\\\scss\\\\\\\\index.scss\\\"}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./consumer-exchange-order.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./consumer-exchange-order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./consumer-exchange-order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7a7f8f8f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./consumer-exchange-order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7a7f8f8f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/pages/consumer/consumer-exchange-order.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}